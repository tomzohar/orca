@if (loading()) {
  <div class="loading-state">
    <orca-spinner [config]="{ size: 'md' }"></orca-spinner>
  </div>
} @else if (comments().length === 0) {
  <orca-empty-state
    [config]="{
      title: 'No comments yet',
      description: 'Be the first to add a comment to this job',
    }"
  />
} @else {
  <div class="comments-list">
    @for (comment of comments(); track comment.id) {
      <div class="comment">
        <div class="comment-header">
          <div class="comment-author-info">
            <orca-avatar [config]="getAvatarConfig(comment)" />
            <div class="comment-meta">
              <span class="comment-author">{{ getAuthorName(comment) }}</span>
              <span class="comment-date">{{
                comment.createdAt | date: 'short'
              }}</span>
            </div>
          </div>
        </div>
        <div class="comment-content">
          <orca-markdown-editor
            [config]="markdownConfig"
            [value]="comment.content"
          />
        </div>
      </div>
    }
  </div>
}
